<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>線上寫信紙測試器</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; background: #f0f0f0; padding: 20px; }
        .container { display: flex; gap: 20px; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .editor { width: 300px; display: flex; flex-direction: column; gap: 10px; }
        .preview-area { 
            width: 450px; height: 636px; 
            background-image: url('letter01.jpg'); /* 確保檔名一致 */
            background-size: cover; padding: 60px 50px; box-sizing: border-box;
        }
        .letter-body { flex: 1; font-family: 'Noto Serif TC', serif; font-size: 1.1rem; line-height: 2; white-space: pre-wrap; }
        button { background: #5a67d8; color: white; border: none; padding: 10px; cursor: pointer; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="editor">
            <h2>給2026年的宵</h2>
            <input type="text" id="in-to" placeholder="給宵的稱呼">
            <textarea id="in-body" placeholder="想說的內容..." style="height:200px;"></textarea>
            <input type="text" id="in-from" placeholder="署名">
            <button onclick="saveImage()">儲存圖片下載</button>
        </div>
        <div id="letter-capture" class="preview-area">
            <div id="out-to" style="font-weight:bold; margin-bottom:10px;"></div>
            <div id="out-body" class="letter-body"></div>
            <div id="out-from" style="text-align:right;"></div>
        </div>
    </div>

    <script>
        document.getElementById('in-to').oninput = e => document.getElementById('out-to').innerText = e.target.value;
        document.getElementById('in-body').oninput = e => document.getElementById('out-body').innerText = e.target.value;
        document.getElementById('in-from').oninput = e => document.getElementById('out-from').innerText = e.target.value;

        async function saveImage() {
            const canvas = await html2canvas(document.getElementById('letter-capture'), { scale: 2, useCORS: true });
            const link = document.createElement('a');
            link.download = 'letter.png';
            link.href = canvas.toDataURL();
            link.click();
        }
    </script>
</body>
</html>



